ORG 1000H
MSJ DB "DIOS SABEE"
FIN DW ?

ORG 3000H
STROBE1:OUT PB, AL
        IN AL, PA
        OR AL, 00000010B
        RET

ORG 3100H
STROBE0:OUT PA, AL
        AND AL, 11111101B
        OUT PA, AL
        RET
        
ORG 2000H
MOV AL, 11111101B
OUT CA, AL
MOV AL, 0
OUT CB, AL
MOV BX, OFFSET MSJ
MOV CL, OFFSET FIN - OFFSET MSJ
POLL:IN AL, PA
     AND AL, 1
     JNZ POLL
     MOV AL, [BX]
     OUT PB, AL
CALL STROBE1
CALL STROBE0
     INC BX
     DEC CL
     JNZ POLL

INT 0
END
