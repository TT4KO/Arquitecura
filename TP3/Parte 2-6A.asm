IDF10 EQU 4
IDTIMER EQU 5

ORG 1000H
MSJ DB ?
FIN DB ?

ORG 3000H
TEMPO:MOV BX, OFFSET MSJ
      MOV AL, 1
      INT 7
      MOV AL, [BX]
      DEC AL
      MOV [BX], AL
      MOV AL, 0
      DEC CL
      OUT CONT, AL
      MOV AL, 20H
      OUT EOI, AL
      IRET

ORG 2000H
MOV BX, OFFSET MSJ
MOV AL, 1
INT 6
MOV CX, 0
MOV CL, [BX]
SUB CL, 48
MOV BX, 20
MOV AX, TEMPO
MOV [BX], AX
MOV BX, 16
MOV AX, TEMPO
MOV [BX], AL
CLI
MOV AL, 11111101B
OUT IMR, AL
MOV AL, IDTIMER
OUT INT1, AL
MOV AL, IDF10
OUT INT0, AL
MOV AL, 2
OUT COMP, AL
STI

MOV AL, 0
OUT CONT, AL

LOOP: CMP CL, 0
      JNZ LOOP

INT 0
END
